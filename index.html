<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>SQL ww3school</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<h1 class="body">SQL Tutorial</h1>
<h2 class="body">SQL Syntax</h2>
<pre>
	SELECT * FROM Customers;</pre>
<p><b>Note</b>: <u>KHONG</u> biet Hoa-thuong</p>
<h3>Some of The Most Important SQL Commands</h3>
<ul>
	<li>SELECT trich xuat du lieu</li>
	<li>UPDATE</li>
	<li>DELETE</li>
	<li>INSERT INTO - chen du lieu moi</li>
	<li>CREATE DATABASE</li>
	<li>ALTER DATABASE - sua doi CSDL</li>
	<li>CREAT TABLE</li>
	<li>ALTER TABLE - sua doi bang </li>
	<li>DROP TABLE - xoa 1 bang</li>
	<li>CREATE INDEX - tao 1 chi muc (key tim kiem)</li>
	<li>DROP INDEX - xoa 1 chi muc</li>
</ul>
<h2 class="body">SQL SELECT Statement</h2>
<h3>SELECT Syntax</h3>
<pre>
	SELECT colum1, colum2, ...
	FROM table_name</pre>
<p>De chon het cot trong 1 bang</p>
<pre>
	SELECT * FROM table_name</pre>
<h2 class="body">SQL SELECT DISTINCT Statement</h2>
<p>Lay ra cac gia tri khong trung lap</p>
<h3>SELECT DISTINCT Syntax</h3>
<pre>
	SELECT DISTINCT column1, column2, ...
	FROM table_name;</pre>
<p>Nhung country khong trung lap</p>
<pre>
	SELECT DISTINCT Country FROM Customers;</pre>
<p>Dem so luong country khac nhau</p>
<pre>
	SELECT COUNT(DISTINCT Country)
	FROM Customers;</pre>
<h2 class="body">SQL WHERE Clause</h2>
<p>Trich xuat du lieu voi dieu kien cu the</p>
<pre>
	SELECT colum1, colum2,...
	FROM table_name
	WHERE condition</pre>
<p><b>Note</b>: WHERE dung ca trong cau lenh UPDATE, DELETE...</p>
<pre>
	SELECT *
	FROM Customers
	WHERE country='Mexico'</pre>
<p><b>Note</b>: text dung dau ngoac kep hoac don. Most ngoc kep. number khong dung</p>
<pre>
	SELECT * FROM Customers
	WHERE CustomerID=1;</pre>
<h3>operators in the WHERE</h3>
<ul>
	<li>=</li>
	<li>&lt;</li>
	<li>&gt;</li>
	<li>&lt;=</li>
	<li>&gt;=</li>
	<li>&lt;&gt; 1 so phien ban SQL !=</li>
	<li>BETWEEN pham vi</li>
	<li>???LIKE tim kiem 1 mau</li>
	<li>???IN chi dinh nhieu gia tri co the co trong 1 colum</li>
</ul>
<h2 class="body">SQL AND, OR and NOT Operators</h2>
<p>WHERE co the ket hop chung</p>
<pre>
	SELECT colum1, colum2,...
	FROM table_name
	WHERE condition1 AND condition2 AND condition3... </pre>
<pre>
	SELECT column1, column2, ...
	FROM table_name
	WHERE condition1 OR condition2 OR condition3 ...;</pre>
<pre>
	SELECT colum1, colum2,...
	FROM table_name
	WHERE NOT condition</pre>
<h3>Example</h3>
<pre>
	SELECT * FROM Customers
	WHERE NOT Country='Germany';</pre>
<p>??? nhieu dieu kien NOT</p>
<h3>Ket hop</h3>
<pre>
	SELECT * FROM Customers
	WHERE Country='Germany' AND (City='Berlin' OR City='Munchen')
</pre>
<pre>
	SELECT * FROM Customers
	WHERE NOT Country='Germany' AND NOT Country='USA'
</pre>
<h2 class="body">SQL ORDER BY Keyword</h2>
<p>Sap xep tang/giam dan</p>
<h3>Syntax</h3>
<pre>
	SELECT column1, column2, ...
	FROM table_name
	ORDER BY column1, column2, ... ASC|DESC;</pre>
<ul>
	<li>ASC tang dan (default)</li>
	<li>DESC giam dan</li>
</ul>
<h3>Example</h3>
<pre>
	SELECT * FROM Customers
	ORDER BY Country, CustomerName;
</pre>

<pre>
	SELECT * FROM Customers
	ORDER BY Country DESC, CustomerName ASC;
</pre>
<h2 class="body">SQL INSERT INTO Statement</h2>
<p>Chen them 1 new record</p>
<h3>Syntax</h3>
<pre>
	INSERT INTO table_name (colum1, colum2,...)
	VALUES (value1, value2,...)
</pre>
<p><b>Note</b>: neu them tat ca gia tri cho cac colum, khong can liet ke colum. Tuy nhien, dam bao thu tu value</p>
<pre>
	INSERT IN table_name
	VALUES (value1, value2,...)
</pre>

<h3>Example</h3>
<pre>
	INSERT IN Customers (CustomerName, City, Country)
	VALUES ('Cardinal', 'Stavanger', 'Norway');
</pre>
<p>Cac colum khong co gia tri se la "null"</p>
<h2 class="body">SQL NULL Values</h2>
<p>Null la bo trong, khac voi truong 0 va " "</p>
<h3>IS NULL/IS NOT NULL</h3>
<pre>
	SELECT column_names
	FROM table_name
	WHERE column_name IS NULL;
</pre>
<pre>
	SELECT column_names
	FROM table_name
	WHERE column_name IS NOT NULL;
</pre>
<h3>Example</h3>
<pre>
	SELECT CustomerName, ContactName, Address
	FROM Customers
	WHERE Address IS NULL;
</pre>
<p>Ket qua: lay ra gia tri cua 3 columns, khi Address la null</p>

<pre>
	SELECT CustomerName, ContactName, Address
	FROM Customers
	WHERE Address IS NOT NULL;	
</pre>
<pre>
	SELECT *
	FROM Customers
	WHERE Address IS NULL OR PostalCode IS NULL;
</pre>
<h2 class="body">SQL UPDATE Statement</h2>
<h3>Syntax</h3>
<pre>
	UPDATE table_name
	SET column1=value1, column2 = value2, ....
	WHERE condition;
</pre>
<p><b>Note</b>: WHERE xac dinh record nao duoc ghi, neu bo qua, no se cap nhat het</p>
<h3>Example</h3>
<pre>
	UPDATE Customers
	SET ContactName = 'Alfred Schmidt', City= 'Frankfurt'
	WHERE CustomerID = 1;
</pre>
<h2 class="body">SQL DELETE Statement</h2>
<p>Xoa record</p>
<h3>Syntax</h3>
<pre>
	DELETE FROM table_name
	WHERE condition;
</pre>

<h3>Example</h3>
<pre>
	DELETE FROM Customers
	WHERE CustomerName='Alfreds Futterkiste';
</pre>
<h2 class="body">SQL select top</h2>
<h3 class="body">SQL TOP, LIMIT, FETCH FIRST or ROWNUM Clause</h3>
<p>SELECT TOP chi dinh so luong bang ghi tra ve</p>
<p><b>Note</b>: khong phai SQL nao cung suppor SELECT TOP.</p>
<h3>SQL Server / MS Access Syntax:</h3>
<pre>
	SELECT TOP number|percent column_name(s)
	FROM table_name
	WHERE condition
</pre>
<p>Vi du:</p>
<pre>
	SELECT TOP 3 *
	FROM Customers;
</pre>
<pre>
	SELECT TOP 50 PERCENT *
	FROM Customers;	
</pre>
<p>vi du: WHERE</p>
<pre>
	SELECT TOP 3 * FROM Customers
	WHERE Country='Germany';
</pre>

<h3>MySQL Syntax:</h3>
<pre>
	SELECT column_name(s)
	FROM table_name
	WHERE condition
	LIMIT number;
</pre>
<p>Vi du:</p>
<pre>
	SELECT *
	FROM Customers
	LIMIT 3;
</pre>
<p>Vi du: WHERE</p>
<pre>
	SELECT * FROM Customers
	WHERE Country='Germany'
	LIMIT 3;
</pre>

<h3>Oracle 12 Syntax:</h3>
<pre>
	SELECT column_name(s)
	FROM table_name
	ORDER BY column_name(s)
	FETCH FIRST number ROWS ONLY
</pre>
<p>Vi du</p>
<pre>
	SELECT *
	FROM Customers
	FETCH FIRST 3 ROWS ONLY;
</pre>
<pre>
	SELECT * 
	FROM Customers
	FETCH FIRST 50 PERCENT ROWS ONLY;
</pre>
<p>Vi du: WHERE</p>
<pre>
	SELECT * FROM Customers
	WHERE Country='Germany'
	FETCH FIRST 3 ROWS ONLY;	
</pre>
<h3>Older Oracle Syntax:</h3>
<pre>
	SELECT column_name(s)
	FROM table_name
	WHERE ROWNUM <= number;
</pre>
<h3>Older Oracle Syntax (with ORDER BY):</h3>
<pre>
	SELECT *
	FROM (SELECT column_name(s) FROM table_name ORDER BY column_name(s))
	WHERE ROWNUM <= number;
</pre>
<h2 class="body">SQL MIN() and MAX() Functions</h2>
<h3>MIN() Syntax</h3>
<pre>
	SELECT MIN(column_name)
	FROM table_name
	WHERE condition;
</pre>
<p>Vi du:</p>
<pre>
	SELECT MIN(Price) AS giathapnhat //Sau AS la ten tu dat
	FROM Products;
</pre>

<h3>MAX() Syntax</h3>
<pre>
	SELECT MAX(column_name)
	FROM table_name
	WHERE condition;
</pre>
<p>Vi du</p>
<pre>
	SELECT MAX(Price) AS LargestPrice
	FROM Products;
</pre>
<h2 class="body">SQL COUNT(), AVG() and SUM() Functions</h2>
<h3>COUNT() Syntax</h3>
<pre>
	SELECT COUNT(column_name)
	FROM table_name
	WHERE condition;
</pre>
<p>Vi du</p>
<pre>
	SELECT COUNT(*)
	FROM Products
	WHERE Price = 18;
</pre>

<h3>AVG() Syntax</h3>
<pre>
	SELECT AVG(column_name)
	FROM table_name
	WHERE condition;
</pre>

<h3>SUM() Syntax</h3>
<pre>
	SELECT SUM(column_name)
	FROM table_name
	WHERE condition;
</pre>
<h2 class="body">SQL LIKE Operator</h2>
<p>LIKE dung trong WHERE de tim record thuoc column</p>
<ul>
	<li>dau (%) dai dien cho khong, mot, nhieu ky tu</li>
	<li>dau (_) dai dien cho 1 ky tu</li>
</ul>
<h3>Syntax</h3>
<pre>
	SELECT column1, column2,...
	FROM table_name
	WHERE columnN LIKE pattern;
</pre>
<h3>1 so vi du (%) va (_)</h3>
<ul>
	<li>WHERE CustomerName LIKE 'a%': Tim gia tri bat dau bang "a"</li>
	<li>WHERE CustomerName LIKE '%a': Tim gia tri ket thuc bang "a"</li>
	<li>WHERE CustomerName LIKE '%or%': Tim gia tri co "or"</li>
	<li>WHERE CustomerName LIKE '_r%': Tim gia tri co "r" nam o vi tri thu 2</li>
	<li>WHERE CustomerName LIKE 'a_%': Tim gia tri co chu "a" dau tien va it nhat 2 ky tu </li>
	<li>WHERE ContactName LIKE 'a%o': Tim gia tri bat dau bang "a" va ket thuc bang "o"</li>
</ul>
<p>vi du</p>
<pre>
	SELECT * FROM Customers
	WHERE ContactName LIKE 'a%o';
</pre>
<h3>NOT LIKE</h3>
<pre>
	SELECT * FROM Customers
	WHERE ContactName NOT LIKE 'a';
</pre>
<h2 class="body">SQL Wildcards</h2>
<p>MS Access / SQL server</p>
<ul>
	<li>* / % : khong, 1 hoac nhieu ky tu</li>
	<li>? / _ : 1 ky tu</li>
	<li>[] / [] : bat ky ki tu nao trong dau ngoac </li>
	<li>! / ^  : khong co ky tu nao</li>
	<li>- / - : pham vi</li>
	<li>#(MS Access): Dai dien cho 1 ky tu so</li>
</ul>
<p>Vi du</p>
<pre>
	SELECT * FROM Customers
	WHERE City LIKE 'L_n_on';
</pre>
<pre>
	SELECT * FROM Customers
	WHERE City LIKE '[bsp]%';
ket qua: co it nhat 1 trong 3 ki tu b, s, q o dau</pre>
<h2 class="body">SQL IN Operator</h2>
<p>Dung trong WHERE, viet tat cua nhieu OR</p>
<pre>
	SELECT column_name(s)
	FROM table_name
	WHERE column_name IN (value1, value2,...)

(OR)
	
	SELECT column_name(s)
	FROM table_name
	WHERE column_name IN (SELECT STATEMENT);
</pre>
<p>Vi du</p>
<pre>
	SELECT * FROM Customers
	WHERE Country IN ('Germany', 'France', 'UK');
</pre>
<pre>
	SELECT * FROM Customers
	WHERE Country NOT IN ('Germany', 'France', 'UK');
</pre>
<p>table Customers va Suppliers. Lay record Customers co country giong Country Suppliers</p>
<pre>
	SELECT * FROM Customers
	WHERE Country IN (SELECT Country FROM Suppliers)
</pre>
<h2 class="body">SQL BETWEEN Operator</h2>
<h3>Syntax</h3>
<pre>
	SELECT column_name(s)
	FROM table_name
	WHERE column_name BETWEEN value1 AND value2;
</pre>
<p>Vi du Number</p>
<pre>
	SELECT * FROM Products
	WHERE Price BETWEEN 10 AND 20;

	SELECT * FROM Products
	WHERE Price NOT BETWEEN value1 AND value2;
</pre>
<pre>
	SELECT * FROM Products
	WHERE Price BETWEEN 10 AND 20
	AND Category NOT IN (1,2,3)
</pre>
<p>Vi du Text</p>
<p>no se so sanh thu tu ky tu A-Z	</p>
<pre>
	SELECT * FROM Products
	WHERE ProductName BETWEEN 'Carnarvon Tigers' AND 'Mozzarella di Giovanni'
	ORDER BY ProductName; // sap xep ten san pham tang dan

	SELECT * FROM Products
	WHERE ProductName NOT BETWEEN 'Carnarvon Tigers' AND 'Mozzarella di Giovanni'
	ORDER BY ProductName;
</pre>

<p>Vi du Date</p>
<pre>
	SELECT * FROM Orders
	WHERE OrderDate BETWEEN #07/01/1996# AND #07/31/1996#;

	SELECT * FROM Orders
	WHERE OrderDate BETWEEN '1996-07-01' AND '1996-07-31';
</pre>
<p><b>Note</b>: tuy phien ban SQL co dinh dnag ngay khac nhau </p>
<h2 class="body">SQL Aliases</h2>
<p>AS dung de dat ten tam thoi cho cot</p>
<h3>Column syntax</h3>
<pre>
	SELECT column_name AS alias_name
	FROM table_name;
</pre>
<p>Vi du</p>
<pre>
	SELECT CustomerID AS ID, CustomerName AS Customer
	FROM Customers;
</pre>
<p>Dung dau [] de viet " "</p>
<pre>
	SELECT CustomerID AS ID, CustomerName AS [Contact Person]
	FROM Customers;
</pre>
<p>Dung (+) de noi' cac cot voi nhau: TEXT + TEXT, NUM + NUM</p>
<p>Dung (', ') de phan tach</p>
<pre>
	SELECT CustomerName, Address + ', ' + PostalCode + ' ' + City + ', ' + Country AS Address
	FROM Customers;
</pre>
<p><b>Note</b>: syntax tren MySQL CONCAT()</p>
<pre>
	SELECT CustomerName, CONCAT(Address,', ',PostalCode',', ','City',', ',Country) AS Address
	FROM Customers;
</pre>

<h3>table syntax</h3>
<pre>
	SELECT column_name(s)
	FROM table_name AS alias_name;
</pre>

<p>Vi du</p>
<pre>
	SELECT o.OrderID, o.OrderDate, c.CustomerName
	FROM Customers AS c, Orders AS o
	WHERE c.CustomerName='Around the Horn' AND c.CustomerID=o.CustomerID;
</pre>
<pre>
	SELECT Orders.OrderID, Orders.OrderDate, Customers.CustomerName
	FROM Customers, Orders
	WHERE Customers.CustomerName='Around the Horn' AND Customers.CustomerID=Orders.CustomerID;
</pre>
<h2 class="body">SQL Joins</h2>
<pre>
	SELECT Orders.OrderID, Customers.CustomerName, Orders.OrderDate
	FROM Orders
	INNER JOIN Customers ON Orders.CustomerID = Customers.CustomerID
</pre>

<pre>
	SELECT o.OrderID, c.CustomerName, o.OrderDate
	FROM Customers AS c
	INNER JOIN Orders AS o
	ON o.CustomerID=c.CustomerID;
</pre>

<ul>
	<li>(INNER) JOIN: tra ve bang ghi co gia tri phu hop cua ca 2 bang</li>
	<li>LEFT (OUTER) JOIN: tra full ben trai va phu hop ben phai</li>
	<li>RIGHT (OUTER) JOIN: tra full ben phai va phu hop ben trai</li>
	<li>FULL (OUTER) JOIN: tra ful 2 ben</li>
</ul>
<img src="images/joinsql.png">

<h2 class="body">SQL INNER JOIN</h2>
<h3>Syntax</h3>
<pre>
	SELECT column_name(s)
	FROM table1
	INNER JOIN table2
	ON table1.column_name = table2.column_name
</pre>
<p><b>Note</b>: trung khop thi display, khong thi khong display</p>
<pre>
	SELECT Orders.OrderID, Customers.CustomerName, Shippers.ShipperName
	FROM ((Orders
	INNER JOIN Customers ON Orders.CustomerID = Customers.CustomerID)
	INNER JOIN Shippers ON Orders.ShipperID = Shippers.ShipperID);
</pre>
<pre>
	SELECT Orders.OrderID, Customers.CustomerName, Shippers.ShipperName
	FROM Customers
	INNER JOIN Orders ON Orders.CustomerID = Customers.CustomerID
	INNER JOIN Shippers ON Orders.ShipperID = Shippers.ShipperID;
</pre>
<h2 class="body">SQL LEFT JOIN</h2>
<pre>
	SELECT Customers.CustomerName, Orders.OrderID
	FROM Customers
	LEFT JOIN Orders ON Customers.CustomerID = Orders.CustomerID
	ORDER BY Customers.CustomerName;
</pre>
<h2 class="body">SQL RIGHT JOIN</h2>
<pre>
	SELECT Orders.OrderID, Employees.LastName, Employees.FirstName
	FROM Orders
	RIGHT JOIN Employees ON Orders.EmployeeID = Employees.EmployeeID
	ORDER BY Orders.OrderID;
</pre>
<h2 class="body">SQL FULL JOIN </h2>
<pre>
	SELECT Customers.CustomerName, Orders.OrderID
	FROM Customers
	FULL OUTER JOIN Orders ON Customers.CustomerID=Orders.CustomerID
	ORDER BY Customers.CustomerName;
</pre>
<h2 class="body">SQL Self Join</h2>
<h3>Syntax</h3>
<pre>
	SELECT column_name(s)
	FROM table1 T1, table1 T2
	WHERE condition;
</pre>
<p>Vi du</p>
<pre>
	SELECT A.CustomerName AS CustomerName1, B.CustomerName AS CustomerName2, A.City
	FROM Customers A, Customers B
	WHERE Customer A &lt;&gt; Customers B
	ORDER BY A.City;
</pre>
<h2 class="body">SQL UNION</h2>

<h3>Syntax</h3>
<pre>
	SELECT column_name(s) FROM tables1
	UNION
	SELECT column_name(s) FROM tables2;
</pre>
<p>Cho phep gia tri trung lap, dung ALL</p>
<pre>
	SELECT column_name(s) FROM tables1
	UNION ALL
	SELECT column_name(s) FROM tables2;
</pre>
<pre>
	SELECT City FROM Customers
	UNION
	SELECT City FROM Suppliers
	ORDER BY City;
</pre>
<p><b>Note</b>: yeu cau column_name(s) phai giong nhau (ko yeu cau theo thu tu)</p>

<pre>
	SELECT City, Country FROM Customers
	WHERE Country IN ('USA','Mexico')
	UNION
	SELECT City, Country FROM Suppliers
	WHERE Country='Germany'
	ORDER BY City;
</pre>

<p>Vi du khac: tao 1 cot tam thoi voi ten Type</p>
<pre>
	SELECT 'Customer' AS Type, ContactName, City, Country
	FROM Customers
	UNION
	SELECT 'Supplier', ContactName, City, Country
	FROM Suppliers;
</pre>
<h2 class="body">SQL GROUP BY</h2>
<h3>Syntax</h3>
<pre>
	SELECT column_names(s)
	FROM table_name
	WHERE condition
	GROUP BY column_name(s)
	ORDER BY column_name(s);
</pre>
<pre>
	SELECT COUNT(CustomerID), Country
	FROM Sustomers
	GROUP BY Country;
	ORDER BY COUNT(CustomerID) DESC;
</pre>
<pre>
	SELECT COUNT(Orders.OrderID) AS countOrders
	FROM Orders
	LEFT JOIN Shippers 0N Orders.ShipperID = Shippers.ShipperID
	GROUP BY ShipperName
</pre>
<h2 class="body">SQL HAVING </h2>
<p>WHERE dieu kien bang goc, HAVING dieu kien cua bang tam thoi</p>
<h3>Syntax</h3>
<pre>
	SELECT column_name(s)
	FROM table_name
	WHERE condition
	GROUP BY column_name(s)
	HAVING condition
	ORDER BY column_name(s);
</pre>
<p>Vi du</p>
<pre>
	SELECT COUNT(CustomerID), Country
	FROM Customers
	GROUP BY Country
	HAVING COUNT(CustomerID) > 5;
</pre>

<pre>
	SELECT Employees.LastName, COUNT(Orders.OrderID) AS NumberOfOrders
	FROM Orders
	INNER JOIN Employees ON Orders.EmployeeID = Employees.EmployeeID
	GROUP BY LastName
	HAVING COUNT(Orders.OrderID) > 10;
</pre>
<h2 class="body">SQL EXISTS</h2>
<h3>Syntax</h3>
<pre>
	SELECT Column_name(s)
	FROM table_name
	WHERE EXISTS
	(SELECT column_name FROM table_name WHERE condition) 
</pre>
<p>Vi du</p>
<pre>
	SELECT SupplierName
	FROM Suppliers
	WHERE EXISTS (SELECT ProductName FROM Products WHERE Products.SupplierID = Suppliers.supplierID AND Price < 20);
</pre>
<h2 class="body">SQL ANY and ALL </h2>
<h3>SQL ANY</h3>
<pre>
	SELECT column_name(s)
	FROM table_name
	WHERE column_name operator ANY
	  (SELECT column_name FROM table_name WHERE condition);
</pre>
<pre>
	SELECT ProductName, ProductID
	FROM Products
	WHERE ProductID = ANY (SELECT ProductID FROM OrderDetails WHERE Quantity = 10);
</pre>
<h3>SQL ALL</h3>
<pre>
	SELECT ALL column_name(s)
	FROM table_name
	WHERE condition;
</pre>
<pre>
	SELECT column_name(s)
	FROM table_name
	WHERE column_name operator ALL
  	  (SELECT column_name
  	  FROM table_name
  	  WHERE condition);
</pre>
<p>Vi du</p>
<pre>
	SELECT ProductName
	FROM Products
	WHERE ProductID = ALL (SELECT ProductID FROM OrderDetails WHERE Quantity = 10);
</pre>
<h2 class="body">SQL SELECT INTO</h2>
<p>Copy ra 1 newtable</p>
<h3>Syntax</h3>
<pre>
	SELECT *
	INTO newtable [IN exteraldb]
	FROM oldtable
	WHERE condition;
</pre>
<p>Vi du</p>
<pre>
	SELECT * 
	INTO CustomersBackup2017 IN 'Backup.mdb'
	FROM Customers;
</pre>
<pre>
	SELECT Customers.CustomerName, Orders.OrderID
	INTO CustomersOrderBackup2017
	FROM Customers
	LEFT JOIN Orders ON Customers.CustomerID = Orders.CustomerID;
</pre>
<p>Cach tao ra bang moi, khong co du lieu</p>
<pre>
	SELECT * INTO newtable
	FROM oldtable
	WHERE 1 = 0;
</pre>
<h2 class="body">SQL INSERT INTO SELECT</h2>
<p>Copy bang 1, gop vao bang 2</p>
<h3>Syntax</h3>
<pre>
	INSERT INTO table2
	SELECT * FROM table1
	WHERE condition;
</pre>
<pre>
	INSERT INTO table2 (column1, column2, column3, ...)
	SELECT column1, column2, column3, ...
	FROM table1
	WHERE condition;
</pre>

<p>Vi du</p>
<pre>
	INSERT INTO Customers (CustomerName, City, Country)
	SELECT SupplierName, City, Country FROM Suppliers
	WHERE Country='Germany';
</pre>
<h2 class="body">SQL CASE </h2>
<h3>Syntax</h3>
<pre>
	CASE
    	WHEN condition1 THEN result1
    	WHEN condition2 THEN result2
    	WHEN conditionN THEN resultN
    	ELSE result
	END;
</pre>
<p>Vi du</p>
<pre>
	SELECT OrderID, Quantity
	CASE
	  WHEN Quantity < 30 THEN 'The quantity is greater than 30'
	  WHEN Quantity = 30 THEN 'The quantity is 30'
	  ELSE 'The quantity is under 30'
	END AS QuatityText
	FROM OrderDetails;
</pre>
<pre>
	SELECT CustomerName, City, Country
	FROM Customers
	ORDER BY
	(CASE
      WHEN City IS NULL THEN Country
      ELSE City
	END);
</pre>
<h2 class="body">SQL NULL</h2>
<h3>MySQL</h3>
<pre>
	SELECT ProductName, UnitPrice * (UnitsInStock + IFNULL(UnitsOnOrder, 0))
	FROM Products;
</pre>
<h3>SQL server</h3>
<pre>
	SELECT ProductName, UnitPrice * (UnitsInStock + ISNULL(UnitsOnOrder, 0))
	FROM Products;
</pre>
<h2 class="body">SQL Stored Procedures</h2>
<p>Tao 1 ten luu, de dung lai nhieu lan</p>
<h3>Syntax</h3>
<p>Tao</p>
<pre>
	CREAT PROCEDURE procedure_name
	AS
	sql_statement
	GO;
</pre>
<p>Goi</p>
<pre>EXEC procedure_name</pre>
<p>Vi du</p>
<pre>
	CREATE PROCEDURE SelectAllCustomers
	AS
	SELECT * FROM Customers
	GO;
</pre>
<pre>Goi: EXEC SelectCustomers;</pre>
<pre>
	
	CREATE PROCEDURE SelectAllCustomers @City nvarchar(30), @PostalCode nvarchar(10)
	AS
	SELECT * FROM Customers WHERE City = @City AND PostalCode = @PostalCode
	GO;
</pre>
<pre>Goi: EXEC SelectAllCustomers @City = 'London', @PostalCode = 'WA1 1DP';</pre>

<h2 class="body">SQL Comments</h2>
<p>dau (--) (/* */)</p>
<p>khong hoat dong tren MS Access</p>
<pre>
	--Select all:
	SELECT * FROM Customers;
</pre>
<h1 class="body">SQL Database</h1>
<h2 class="body">SQL CREATE DATABASE</h2>
<h3>Syntax</h3>
<pre>CREATE DATABASE databasename;</pre>
<h2 class="body">SQL DROP DATABASE</h2>
<p>Xoa du lieu</p>
<h3>Syntax</h3>
<pre>DROP DATABASE databasename</pre>

<h2 class="body">SQL BACKUP DATABASE</h2>
<h3>Syntax</h3>
<pre>
	BACKUP DATABASE databasename
	TO DISK = 'filepath';
</pre>
<p>Vi du</p>
<pre>
	BACKUP DATABASE testDB
	TO DISK = 'D:\backups\testDB.bak';
</pre>
<p><b>Chi sao luu du lieu "thay doi" tu lan sao luu cuoi</b></p>
<pre>
	BACKUP DATABASE databasename
	IO DISK = 'filepath'
	WITH DIFFERENTIAL;
</pre>
<p>Vi du</p>
<pre>
	BACKUP DATABASE testDB
	TO DISK = 'D:\backups\testDB.bak'
	WITH DIFFERENTIAL;
</pre>
<h2 class="body">SQL CREATE TABLE</h2>
<h3>Syntax</h3>
<pre>
	CREATE TABLE table_name (
      column1 datatype,
      column2 datatype,
      column3 datatype,
     ....
	);
</pre>
<p>vi du</p>
<pre>
	CREATE TABLE Persons (
      PersonID int,
      LastName varchar(255),
      FirstName varchar(255),
      Address varchar(255),
      City varchar(255)
	);
</pre>
<b>Tao bang moi, giong cot bang cu</b>
<pre>
	CREATE TABLE new_table_name AS
      SELECT column1, column2,...
      FROM existing_table_name
      WHERE ....;
</pre>
<h2 class="body">SQL DROP TABLE </h2>
<h3>Syntax</h3>
<pre>
	DROP TABLE table_name;
</pre>
<h2 class="body">SQL ALTER TABLE</h2>
<p>add, delete, modify column cua bang hien tai</p>
<h3>ADD Column</h3>
<pre>
	ALTER TABLE table_name
	ADD column_name datatype;
</pre>
<h3>DROP COLUMN</h3>
<pre>
	ALTER TABLE table_name
	DROP COLUMN column_name;
</pre>
<h3>MODIFY COLUMN</h3>
<pre>
	ALTER TABLE table_name
	MODIFY COLUMN column_name datatype;
</pre>
<h2 class="body">SQL Constraints</h2>
<p>Tao rang buoc cho du lieu</p>
<p>CREAT TABLE hoac ALTER TABLE</p>
<pre>
	CREATE TABLE table_name (
      column1 datatype constraint,
      column2 datatype constraint,
      column3 datatype constraint,
    ....
	);
</pre>
<ul>
	<li>NOT NULL khong co gia tri null</li>
	<li>UNIQUE chac chan cac gia tri trong cot phai khac nhau</li>
	<li>PRIMARY KEY la duy nhat</li>
	<li>FOREIGN KEY ngan chan pha huy lien ket giua nhieu bang</li>
	<li>CHECK chac chan gia tri trong cot phai thoa dieu kien</li>
	<li>DEFAULT gia tri mac dinh neu khogn co gia tri vao</li>
	<li>CREATE INDEX</li>
</ul>


</body>
</html>